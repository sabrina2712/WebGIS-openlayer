{"id":"WlOd","dependencies":[{"name":"/Users/roshni/work/OpenLayer_work/office_project/package.json","includedInParent":true,"mtime":1593339405604},{"name":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/package.json","includedInParent":true,"mtime":1593338162129},{"name":"./common.js","loc":{"line":17,"column":32},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/common.js"},{"name":"../Tile.js","loc":{"line":18,"column":17},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/Tile.js"},{"name":"../TileState.js","loc":{"line":19,"column":22},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/TileState.js"},{"name":"../events.js","loc":{"line":20,"column":38},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/events.js"},{"name":"../events/EventType.js","loc":{"line":21,"column":22},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/events/EventType.js"},{"name":"../extent.js","loc":{"line":22,"column":52},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/extent.js"},{"name":"../math.js","loc":{"line":23,"column":22},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/math.js"},{"name":"../reproj.js","loc":{"line":24,"column":71},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj.js"},{"name":"./Triangulation.js","loc":{"line":25,"column":26},"parent":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Tile.js","resolved":"/Users/roshni/work/OpenLayer_work/office_project/node_modules/ol/reproj/Triangulation.js"}],"generated":{"js":"var $WlOd$exports={};$parcel$require(\"WlOd\",\"./common.js\"),$parcel$require(\"WlOd\",\"../Tile.js\"),$parcel$require(\"WlOd\",\"../TileState.js\"),$parcel$require(\"WlOd\",\"../events.js\"),$parcel$require(\"WlOd\",\"../events/EventType.js\"),$parcel$require(\"WlOd\",\"../extent.js\"),$parcel$require(\"WlOd\",\"../math.js\"),$parcel$require(\"WlOd\",\"../reproj.js\"),$parcel$require(\"WlOd\",\"./Triangulation.js\");var $WlOd$var$__extends=$WlOd$exports&&$WlOd$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$WlOd$export$default=function(t){function e(e,r,i,o,l,s,$,n,a,d,p){var u=t.call(this,l,$WlOd$import$TileState.IDLE)||this;u.renderEdges_=void 0!==p&&p,u.pixelRatio_=$,u.gutter_=n,u.canvas_=null,u.sourceTileGrid_=r,u.targetTileGrid_=o,u.wrappedTileCoord_=s||l,u.sourceTiles_=[],u.sourcesListenerKeys_=null,u.sourceZ_=0;var c=o.getTileCoordExtent(u.wrappedTileCoord_),_=u.targetTileGrid_.getExtent(),O=u.sourceTileGrid_.getExtent(),T=_?$WlOd$import$getIntersection(c,_):c;if(0===$WlOd$import$getArea(T))return u.state=$WlOd$import$TileState.EMPTY,u;var h=e.getExtent();h&&(O=O?$WlOd$import$getIntersection(O,h):h);var g=o.getResolution(u.wrappedTileCoord_[0]),W=$WlOd$import$getCenter(T),m=$WlOd$import$calculateSourceResolution(e,i,W,g);if(!isFinite(m)||m<=0)return u.state=$WlOd$import$TileState.EMPTY,u;var f=void 0!==d?d:$WlOd$import$ERROR_THRESHOLD;if(u.triangulation_=new $WlOd$import$Triangulation(e,i,T,O,m*f,g),0===u.triangulation_.getTriangles().length)return u.state=$WlOd$import$TileState.EMPTY,u;u.sourceZ_=r.getZForResolution(m);var E=u.triangulation_.calculateSourceExtent();if(O&&(e.canWrapX()?(E[1]=$WlOd$import$clamp(E[1],O[1],O[3]),E[3]=$WlOd$import$clamp(E[3],O[1],O[3])):E=$WlOd$import$getIntersection(E,O)),$WlOd$import$getArea(E)){for(var v=r.getTileRangeForExtentAndZ(E,u.sourceZ_),S=v.minX;S<=v.maxX;S++)for(var x=v.minY;x<=v.maxY;x++){var y=a(u.sourceZ_,S,x,$);y&&u.sourceTiles_.push(y)}0===u.sourceTiles_.length&&(u.state=$WlOd$import$TileState.EMPTY)}else u.state=$WlOd$import$TileState.EMPTY;return u}return $WlOd$var$__extends(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,i){e&&e.getState()==$WlOd$import$TileState.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=$WlOd$import$TileState.ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),i=\"number\"==typeof r?r:r[0],o=\"number\"==typeof r?r:r[1],l=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),$=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=$WlOd$import$renderReprojected(i,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),l,$,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=$WlOd$import$TileState.LOADED}this.changed()},e.prototype.load=function(){if(this.state==$WlOd$import$TileState.IDLE){this.state=$WlOd$import$TileState.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,i){var o=e.getState();if(o==$WlOd$import$TileState.IDLE||o==$WlOd$import$TileState.LOADING){t++;var l=$WlOd$import$listen(e,$WlOd$import$EventType.CHANGE,function(r){var i=e.getState();i!=$WlOd$import$TileState.LOADED&&i!=$WlOd$import$TileState.ERROR&&i!=$WlOd$import$TileState.EMPTY||($WlOd$import$unlistenByKey(l),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(l)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,r){t.getState()==$WlOd$import$TileState.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach($WlOd$import$unlistenByKey),this.sourcesListenerKeys_=null},e}($WlOd$import$Tile);$WlOd$exports.default=$WlOd$export$default;"},"sourceMaps":null,"error":null,"hash":"4eb912b2329b892ada469175fa498309","cacheData":{"env":{},"imports":{"$WlOd$import$ERROR_THRESHOLD":["./common.js","ERROR_THRESHOLD"],"$WlOd$import$Tile":["../Tile.js","default"],"$WlOd$import$TileState":["../TileState.js","default"],"$WlOd$import$listen":["../events.js","listen"],"$WlOd$import$unlistenByKey":["../events.js","unlistenByKey"],"$WlOd$import$EventType":["../events/EventType.js","default"],"$WlOd$import$getArea":["../extent.js","getArea"],"$WlOd$import$getCenter":["../extent.js","getCenter"],"$WlOd$import$getIntersection":["../extent.js","getIntersection"],"$WlOd$import$clamp":["../math.js","clamp"],"$WlOd$import$calculateSourceResolution":["../reproj.js","calculateSourceResolution"],"$WlOd$import$renderReprojected":["../reproj.js","render"],"$WlOd$import$Triangulation":["./Triangulation.js","default"]},"exports":{"default":"$WlOd$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}